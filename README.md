<div align="center">

# ç¾¤èŠæ—¥å¸¸åˆ†ææ’ä»¶

[![Plugin Version](https://img.shields.io/badge/Latest_Version-v4.7.0-blue.svg?style=for-the-badge&color=76bad9)](https://github.com/SXP-Simon/astrbot-qq-group-daily-analysis)
[![AstrBot](https://img.shields.io/badge/AstrBot-Plugin-ff69b4?style=for-the-badge)](https://github.com/AstrBotDevs/AstrBot)
[![License](https://img.shields.io/badge/License-MIT-green.svg?style=for-the-badge)](LICENSE)
[![](https://img.shields.io/badge/äº”å½©æ–‘æ–“çš„Bugç¾¤-Bugåé¦ˆç¾¤&æ°´ç¾¤-white?style=for-the-badge&color=76bad9&logo=qq&logoColor=76bad9)](https://qm.qq.com/q/oTzIrdDBIc)

_âœ¨ ä¸€ä¸ªåŸºäº AstrBot çš„æ™ºèƒ½ç¾¤èŠåˆ†ææ’ä»¶ï¼Œæ”¯æŒ **QQ (OneBot)**ã€**Telegram**ã€**Discord**ï¼Œæœªæ¥æ”¯æŒæ›´å¤šå¹³å°ã€‚ âœ¨_

<img src="https://count.getloli.com/@astrbot-qq-group-daily-analysis?name=astrbot-qq-group-daily-analysis&theme=booru-jaypee&padding=6&offset=0&align=top&scale=1&pixelated=1&darkmode=auto" alt="count" />
</div>



## åŠŸèƒ½ç‰¹è‰²

### ğŸ¯ æ™ºèƒ½åˆ†æ
- **ç»Ÿè®¡æ•°æ®**: å…¨é¢çš„ç¾¤èŠæ´»è·ƒåº¦å’Œå‚ä¸åº¦ç»Ÿè®¡
- **è¯é¢˜åˆ†æ**: ä½¿ç”¨LLMæ™ºèƒ½æå–ç¾¤èŠä¸­çš„çƒ­é—¨è¯é¢˜å’Œè®¨è®ºè¦ç‚¹
- **ç”¨æˆ·ç”»åƒ**: åŸºäºèŠå¤©è¡Œä¸ºåˆ†æç”¨æˆ·ç‰¹å¾ï¼Œåˆ†é…ä¸ªæ€§åŒ–ç§°å·
- **åœ£ç»è¯†åˆ«**: è‡ªåŠ¨ç­›é€‰å‡ºç¾¤èŠä¸­çš„ç²¾å½©å‘è¨€

### ğŸ“Š å¯è§†åŒ–æŠ¥å‘Š
- **å¤šç§æ ¼å¼**: æ”¯æŒå›¾ç‰‡å’Œæ–‡æœ¬è¾“å‡ºæ ¼å¼
    - **ç²¾ç¾å›¾ç‰‡**: ç”Ÿæˆç¾è§‚çš„å¯è§†åŒ–æŠ¥å‘Š
    - **PDFæŠ¥å‘Š**: ç”Ÿæˆä¸“ä¸šçš„PDFæ ¼å¼åˆ†ææŠ¥å‘Šï¼ˆéœ€é…ç½®ï¼‰
- **è¯¦ç»†æ•°æ®**: åŒ…å«æ¶ˆæ¯ç»Ÿè®¡ã€æ—¶é—´åˆ†å¸ƒã€å…³é”®è¯ã€é‡‘å¥ç­‰

> [!warning]
> **å®éªŒæ€§å¼€å‘ä¸­**ï¼š
> - å¤šå¹³å°æ”¯æŒåŠŸèƒ½å°šåœ¨å¼€å‘ä¸­ï¼Œå½“å‰ä»…æ”¯æŒQQ OneBot, Discord, Telegramã€‚
> - æ—§ç‰ˆæœ¬ç¨³å®šç‰ˆåœ¨[QQ åˆ†æ”¯](https://github.com/SXP-Simon/astrbot_plugin_qq_group_daily_analysis/tree/QQ)ï¼Œä»… QQ å¹³å°æ”¯æŒ


### ğŸ› ï¸ çµæ´»é…ç½®
- **å¤šå¹³å°æ”¯æŒ**: è‡ªåŠ¨è¯†åˆ«å¹¶é€‚é… OneBot, Discord, Telegram ç­‰å¹³å°
- **ç¾¤ç»„ç®¡ç†**: æ”¯æŒæŒ‡å®šç‰¹å®šç¾¤ç»„å¯ç”¨åŠŸèƒ½ï¼ˆæ”¯æŒè·¨å¹³å°é»‘ç™½åå•ï¼‰
- **å‚æ•°è°ƒèŠ‚**: å¯è‡ªå®šä¹‰åˆ†æå¤©æ•°ã€æ¶ˆæ¯æ•°é‡ç­‰å‚æ•°
- **å®šæ—¶ä»»åŠ¡**: æ”¯æŒè®¾ç½®æ¯æ—¥è‡ªåŠ¨åˆ†ææ—¶é—´
- **å¢é‡åˆ†æ**: å…¨æ–°çš„æ»‘åŠ¨çª—å£åˆ†ææ¨¡å¼ï¼Œå…¨å¤©å€™è¦†ç›–ç¾¤èŠæ¶ˆæ¯
- **è‡ªå®šä¹‰LLMæœåŠ¡**: æ”¯æŒè‡ªå®šä¹‰æŒ‡å®šçš„LLMæœåŠ¡

## é…ç½®é€‰é¡¹

> [!NOTE]
> ä»¥ä¸‹é…ç½®æƒ…å†µä»…ä¾›å‚è€ƒï¼Œè¯·ä»”ç»†é˜…è¯»æ’ä»¶é…ç½®é¡µé¢ä¸­å„ä¸ªå­—æ®µçš„è¯´æ˜ï¼Œä»¥æ’ä»¶é…ç½®ä¸­çš„è¯´æ˜ä¸ºå‡†ã€‚

| é…ç½®é¡¹ | è¯´æ˜ | å¤‡æ³¨ |
|--------|------|--------|
| å¯ç”¨è‡ªåŠ¨åˆ†æ | å¯ç”¨å®šæ—¶è§¦å‘è‡ªåŠ¨åˆ†æåŠŸèƒ½ã€‚éœ€è¦åœ¨ç¾¤èŠåˆ—è¡¨ä¸­æ·»åŠ ç¾¤å·æˆ–è€…ä½¿ç”¨ `/åˆ†æè®¾ç½® enable` å¯ç”¨ã€‚ | é»˜è®¤å…³é—­ï¼Œå»ºè®®å¼€å¯ |
| å¯ç”¨å¢é‡åˆ†æ | å¯ç”¨å¢é‡åˆ†ææ¨¡å¼ï¼Œå®šæ—¶åˆ†æ‰¹åˆ†ææ¶ˆæ¯ï¼Œæœ€ç»ˆç”Ÿæˆå…¨å¤©æŠ¥å‘Šã€‚ | é€‚åˆæ¶ˆæ¯é‡å¤§çš„ç¾¤èŠ |
| PDFæ ¼å¼çš„æŠ¥å‘Š | åˆæ¬¡ä½¿ç”¨éœ€è¦ä½¿ç”¨ `/å®‰è£…PDF` å‘½ä»¤å®‰è£…ä¾èµ–ã€‚éœ€é‡å¯ AstrBot ç”Ÿæ•ˆã€‚ | è¾“å‡ºæ ¼å¼éœ€è®¾ä¸º PDF |
| è‡ªå®šä¹‰LLMæœåŠ¡ | ç”¨æˆ·å¯è‡ªè¡Œé€‰å–ä¸ªäººæä¾›çš„æœåŠ¡å•†ã€‚ | ç•™ç©ºåˆ™å›é€€åˆ°é»˜è®¤æœåŠ¡å•† |

> [!IMPORTANT]
> **å¤šå¹³å°é…ç½®æ³¨æ„**ï¼š
> - **è‡ªåŠ¨å‘ç°**: æ’ä»¶ä¼šè‡ªåŠ¨å‘ç°å·²ç™»å½•çš„ Bot å®ä¾‹ã€‚

> [!TIP]
> **è‡ªå®šä¹‰ LLM æœåŠ¡å›é€€æœºåˆ¶**ï¼šæ€§èƒ½ä¼˜å…ˆï¼Œç­–ç•¥å¦‚ä¸‹ï¼š
>    1. å°è¯•ä»é…ç½®è·å–æŒ‡å®šçš„ provider_id
>    2. å›é€€åˆ°ä¸» LLM provider_id
>    3. å›é€€åˆ°å½“å‰ä¼šè¯çš„ Provider (UMO)
>    4. å›é€€åˆ°ç¬¬ä¸€ä¸ªå¯ç”¨çš„ Provider


## æ•ˆæœ
![é»˜è®¤æ¨¡æ¿æ•ˆæœå›¾](./assets/scrapbook-demo.jpg)

<details>
<summary>ç‚¹å‡»å±•å¼€æŸ¥çœ‹å…¶ä»–æ¨¡æ¿æ•ˆæœå›¾</summary>

retro_futurism æ¨¡æ¿æ•ˆæœå›¾
![retro_futurismæ•ˆæœå›¾](./assets/retro_futurism-demo.jpg)

hack æ¨¡æ¿æ•ˆæœå›¾
![hackæ•ˆæœå›¾](./assets/hack-demo.jpg)

format æ¨¡æ¿æ•ˆæœå›¾
![formatæ•ˆæœå›¾](./assets/format-demo.jpg)

simple æ¨¡æ¿æ•ˆæœå›¾(ç”¨äºå±•ç¤ºè´¡çŒ®æŒ‡å—)
![simpleæ•ˆæœå›¾](./assets/simple-demo.jpg)

</details>

## ä½¿ç”¨æ–¹æ³•

### åŸºç¡€å‘½ä»¤

#### ç¾¤åˆ†æ
```
/ç¾¤åˆ†æ [å¤©æ•°]
```
- åˆ†æç¾¤èŠè¿‘æœŸæ´»åŠ¨
- å¤©æ•°å¯é€‰ï¼Œé»˜è®¤ä¸º1å¤©
- ä¾‹å¦‚ï¼š`/ç¾¤åˆ†æ 3` åˆ†ææœ€è¿‘3å¤©çš„ç¾¤èŠ

#### å¢é‡çŠ¶æ€
```
/å¢é‡çŠ¶æ€
```
- æŸ¥çœ‹å½“å‰å¢é‡åˆ†æçš„å®æ—¶çŠ¶æ€
- æ˜¾ç¤ºå½“å‰æ»‘åŠ¨çª—å£å†…çš„åˆ†ææ¬¡æ•°ã€æ¶ˆæ¯æ•°ã€è¯é¢˜æ•°ç­‰ç»Ÿè®¡
- **ä»…åœ¨å¯ç”¨å¢é‡åˆ†ææ¨¡å¼æ—¶å¯ç”¨**

#### åˆ†æè®¾ç½®
```
/åˆ†æè®¾ç½® [æ“ä½œ]
```
- `enable`: ä¸ºå½“å‰ç¾¤å¯ç”¨åˆ†æåŠŸèƒ½
- `disable`: ä¸ºå½“å‰ç¾¤ç¦ç”¨åˆ†æåŠŸèƒ½  
- `status`: æŸ¥çœ‹å½“å‰ç¾¤çš„å¯ç”¨çŠ¶æ€
- ä¾‹å¦‚ï¼š`/åˆ†æè®¾ç½® enable`

#### æ¨¡æ¿è®¾ç½®
```
/æŸ¥çœ‹æ¨¡æ¿
/è®¾ç½®æ¨¡æ¿ [æ¨¡æ¿åç§°æˆ–åºå·]
```
- `/æŸ¥çœ‹æ¨¡æ¿`: æŸ¥çœ‹æ‰€æœ‰å¯ç”¨æ¨¡æ¿åŠé¢„è§ˆå›¾
- `/è®¾ç½®æ¨¡æ¿`: æŸ¥çœ‹å½“å‰æ¨¡æ¿å’Œå¯ç”¨æ¨¡æ¿åˆ—è¡¨
- `/è®¾ç½®æ¨¡æ¿ [åºå·]`: åˆ‡æ¢åˆ°æŒ‡å®šåºå·çš„æ¨¡æ¿
- ä¾‹å¦‚ï¼š`/è®¾ç½®æ¨¡æ¿ 1` æˆ– `/è®¾ç½®æ¨¡æ¿ scrapbook`

## å¹³å°æ”¯æŒä¸è¦æ±‚

| å¹³å° | é€‚é…å™¨ç±»å‹ | ç‰¹æ®Šè¦æ±‚/è¯´æ˜ |
|------|-----------|--------------|
| **QQ** | OneBot v11 | å»ºè®®ä½¿ç”¨ NapCat/Lagrangeã€‚éœ€æ³¨æ„æ¶ˆæ¯åˆ†é¡µæ‹‰å–é™åˆ¶ã€‚ |
| **Discord** | Discord | **å¿…é¡»** æ‹¥æœ‰ `Read Message History` (æŸ¥çœ‹æ¶ˆæ¯å†å²è®°å½•) æƒé™ã€‚ |
| **Telegram** | Telegram Bot API | è‹¥æœºå™¨äººä¸æ˜¯ç¾¤ç®¡ç†å‘˜ï¼Œå…¥ç¾¤å‰éœ€å…ˆåœ¨ BotFather å…³é—­éšç§æ¨¡å¼ (`/setprivacy` -> `Disable`)ã€‚è‹¥æœºå™¨äººå·²åœ¨ç¾¤å†…ä¸”éç®¡ç†å‘˜ï¼Œå…³é—­åéœ€è¦å…ˆç§»å‡ºæœºå™¨äººå†é‡æ–°æ‹‰å…¥ï¼Œè®¾ç½®æ‰ä¼šç”Ÿæ•ˆã€‚ |


> [!CAUTION]
> **Discord ç”¨æˆ·é‡ç‚¹æ³¨æ„**ï¼š
> å¦‚æœæœºå™¨äººæ— æ³•è·å–ç¾¤åˆ—è¡¨æˆ–åˆ†ææŠ¥ `403 Forbidden`ï¼Œè¯·æ£€æŸ¥ Discord å¼€å‘è€…é¢æ¿ä¸­ï¼š
> 1. **Privileged Gateway Intents**: å¼€å¯ `Message Content Intent`ã€‚
> 2. **é¢‘é“æƒé™**: ç¡®ä¿æœºå™¨äººæ‰€åœ¨çš„é¢‘é“ï¼Œå¯¹åº”çš„è§’è‰²æ‹¥æœ‰ **â€œæŸ¥çœ‹æ¶ˆæ¯å†å²è®°å½•â€** æƒé™ã€‚

> [!IMPORTANT]
> **Telegram ç”¨æˆ·é‡ç‚¹æ³¨æ„**ï¼š
> 1. å¦‚æœ TG Bot ä¸æ˜¯ç¾¤ç®¡ç†å‘˜ï¼ŒåŠ¡å¿…åœ¨æ‹‰å…¥ç¾¤å‰å…ˆå…³é—­ BotFather éšç§æ¨¡å¼ã€‚
> 2. å¦‚æœ Bot å·²ç»åœ¨ç¾¤é‡Œä¸”ä¸æ˜¯ç®¡ç†å‘˜ï¼Œå…³é—­éšç§æ¨¡å¼åå¿…é¡»å…ˆç§»é™¤å†é‡æ–°æ‹‰å…¥ç¾¤ï¼Œå¦åˆ™æ–°è®¾ç½®ä¸ä¼šç”Ÿæ•ˆã€‚



## æ³¨æ„äº‹é¡¹

> [!WARNING]
> 1. **æ€§èƒ½è€ƒè™‘**: å¤§é‡æ¶ˆæ¯åˆ†æå¯èƒ½æ¶ˆè€—è¾ƒå¤š LLM tokens
> 2. **æ•°æ®å‡†ç¡®æ€§**: åˆ†æç»“æœåŸºäºå¯è·å–çš„ç¾¤èŠè®°å½•ï¼Œå¯èƒ½ä¸å®Œå…¨å‡†ç¡®

## å¢é‡åˆ†ææ¨¡å¼ (Beta)

å¢é‡åˆ†ææ¨¡å¼æ˜¯ä¸ºäº†è§£å†³æ¶ˆæ¯é‡å¤§çš„ç¾¤èŠï¼ˆå¦‚æ—¥å‡æ¶ˆæ¯ > 500 æ¡ï¼‰åœ¨å•æ¬¡åˆ†ææ—¶å®¹æ˜“ä¸¢å¤±ä¸Šä¸‹æ–‡çš„é—®é¢˜ã€‚

**æ ¸å¿ƒç‰¹æ€§ï¼š**
- **æ»‘åŠ¨çª—å£**ï¼šä¸å†å—é™äºè‡ªç„¶æ—¥ï¼Œåˆ†æçª—å£éšæ—¶é—´æ»‘åŠ¨ï¼ˆå¦‚è¿‡å» 24 å°æ—¶ï¼‰ï¼Œç¡®ä¿ä»»ä½•æ—¶å€™ç”Ÿæˆçš„æŠ¥å‘Šéƒ½è¦†ç›–å®Œæ•´çš„æ—¶é—´æ®µã€‚
- **åˆ†æ‰¹å¤„ç†**ï¼šå®šæ—¶ï¼ˆå¦‚æ¯ 2 å°æ—¶ï¼‰æ‰§è¡Œä¸€æ¬¡å°æ‰¹é‡åˆ†æï¼Œå‡è½» LLM ç¬æ—¶å‹åŠ›ã€‚
- **è‡ªåŠ¨å»é‡**ï¼šæ™ºèƒ½è¯†åˆ«é‡å¤è¯é¢˜å’Œé‡‘å¥ï¼Œåˆå¹¶ç”Ÿæˆæœ€ç»ˆæŠ¥å‘Šã€‚

**å¯ç”¨æ–¹æ³•ï¼š**
åœ¨æ’ä»¶é…ç½®ä¸­å¼€å¯ `incremental_enabled`ï¼Œå¹¶æ ¹æ®éœ€è¦è°ƒæ•´åˆ†æé—´éš” (`incremental_interval_minutes`) å’Œæ¶ˆæ¯é˜ˆå€¼ã€‚

## å¸¸è§é—®é¢˜ (FAQ)

### è·å–ä¸åˆ°å¸¦è®°å½•çš„å¼•ç”¨æ¶ˆæ¯

**ç°è±¡**ï¼š
åå°æ—¥å¿—å‡ºç° `[warn] ... ä¼¼ä¹æ˜¯æ—§ç‰ˆå®¢æˆ·ç«¯ ... [error] ... è·å–ä¸åˆ°å¸¦è®°å½•çš„å¼•ç”¨æ¶ˆæ¯`ã€‚

**åŸå› **ï¼š
è¿™æ˜¯ç”±äº NapCat/NTQQ æ¶ˆæ¯ ID æ ¼å¼å˜åŠ¨ã€æ¶ˆæ¯è¿‡æœŸæˆ–ä¸´æ—¶ä¼šè¯é™åˆ¶å¯¼è‡´çš„ã€‚æœºå™¨äººå°è¯•é™çº§ä½¿ç”¨æ—§ç‰ˆåºå·æŸ¥æ‰¾å¤±è´¥ã€‚

**å¿½ç•¥**ï¼šå¦‚æœåªæ˜¯å¶å°”å‡ºç°ï¼ˆå¦‚å›å¤ä¹…è¿œæ¶ˆæ¯ï¼‰ï¼Œä¸å½±å“æœºå™¨äººæ ¸å¿ƒåŠŸèƒ½ï¼ˆæ”¶å‘æ¶ˆæ¯ï¼‰ï¼Œå¯ä»¥ç›´æ¥å¿½ç•¥ã€‚


## è´¡çŒ®

### é¡¹ç›®æ¶æ„å›¾

<div align="center">

![é¡¹ç›®æ¶æ„å›¾](./assets/structure-demo.jpg)

</div>

### è´¡çŒ®æŒ‡å—

<div align="center">

![è´¡çŒ®æŒ‡å—](./assets/contribution-guide.jpg)

</div>

### å¼€å‘ç¯å¢ƒè®¾ç½®

ä¸ºäº†ä¿æŒä»£ç è´¨é‡ï¼Œæœ¬é¡¹ç›®ä½¿ç”¨ [pre-commit](https://pre-commit.com/) é’©å­è¿›è¡Œä»£ç è§„èŒƒæ£€æŸ¥å’Œè‡ªåŠ¨ä¿®å¤ã€‚æ‰€æœ‰çš„è´¡çŒ®ä»£ç éƒ½å¿…é¡»é€šè¿‡ pre-commit æ£€æŸ¥ã€‚

#### 1. å®‰è£… pre-commit
```bash
pip install pre-commit
```

#### 2. å®‰è£… git hook
åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œï¼Œè¿™å°†ç¡®ä¿åœ¨æ¯æ¬¡æäº¤æ—¶è‡ªåŠ¨è¿è¡Œæ£€æŸ¥ï¼š
```bash
pre-commit install
```

#### 3. æ‰‹åŠ¨è¿è¡Œæ£€æŸ¥
å¦‚æœéœ€è¦æ‰‹åŠ¨è§¦å‘æ‰€æœ‰æ–‡ä»¶çš„æ£€æŸ¥ï¼ˆæ¨èåœ¨æäº¤å‰è¿è¡Œä¸€æ¬¡ï¼‰ï¼š
```bash
pre-commit run --all-files
```

### æ¨¡æ¿è´¡çŒ®æŒ‡å—

<details>
<summary>ğŸ¨ ç‚¹å‡»å±•å¼€æŸ¥çœ‹å¦‚ä½•è´¡çŒ®ä½ çš„è‡ªå®šä¹‰æ¨¡æ¿ç»™æ›´å¤šäººç©</summary>

å¦‚æœæ‚¨æƒ³ä¸ºæ’ä»¶è´¡çŒ®æ–°çš„æŠ¥å‘Šæ¨¡æ¿ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

#### 1. åˆ›å»ºæ¨¡æ¿ç›®å½•
åœ¨ `src/reports/templates/` ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚ `my_theme`ã€‚

#### 2. å¿…éœ€æ–‡ä»¶ç»“æ„
æ‚¨çš„æ¨¡æ¿ç›®å½•éœ€è¦åŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼š

```text
src/reports/templates/your_theme_name/
â”œâ”€â”€ image_template.html      # å›¾ç‰‡æŠ¥å‘Šä¸»æ¨¡æ¿
â”œâ”€â”€ pdf_template.html        # PDFæŠ¥å‘Šä¸»æ¨¡æ¿
â”œâ”€â”€ activity_chart.html      # æ´»è·ƒåº¦å›¾è¡¨ç»„ä»¶
â”œâ”€â”€ topic_item.html          # è¯é¢˜åˆ—è¡¨é¡¹ç»„ä»¶
â”œâ”€â”€ user_title_item.html     # ç”¨æˆ·ç§°å·é¡¹ç»„ä»¶
â””â”€â”€ quote_item.html          # é‡‘å¥é¡¹ç»„ä»¶
```

#### 3. æ¨¡æ¿å˜é‡è¯´æ˜

**ä¸»æ¨¡æ¿ (`image_template.html` / `pdf_template.html`) å¯ç”¨å˜é‡:**
- `current_date`: å½“å‰æ—¥æœŸ (YYYY-MM-DD)
- `current_datetime`: å½“å‰æ—¶é—´ (YYYY-MM-DD HH:MM:SS)
- `message_count`: æ¶ˆæ¯æ€»æ•°
- `participant_count`: å‚ä¸äººæ•°
- `total_characters`: æ€»å­—ç¬¦æ•°
- `emoji_count`: è¡¨æƒ…æ•°é‡
- `most_active_period`: æœ€æ´»è·ƒæ—¶æ®µ
- `hourly_chart_html`: æ¸²æŸ“åçš„æ´»è·ƒåº¦å›¾è¡¨ HTML
- `topics_html`: æ¸²æŸ“åçš„çƒ­é—¨è¯é¢˜ HTML
- `titles_html`: æ¸²æŸ“åçš„ç”¨æˆ·ç§°å· HTML
- `quotes_html`: æ¸²æŸ“åçš„é‡‘å¥ HTML
- `total_tokens`: Token æ¶ˆè€—ç»Ÿè®¡
- `prompt_tokens`: æç¤ºè¯ Token æ¶ˆè€—
- `completion_tokens`: ç”Ÿæˆå†…å®¹ Token æ¶ˆè€—

**ç»„ä»¶æ¨¡æ¿å¯ç”¨å˜é‡:**
- `activity_chart.html`: `chart_data` (åŒ…å« `hour`, `count`, `percentage` çš„åˆ—è¡¨)
- `topic_item.html`: `topic` (åŒ…å« `keyword`, `count`, `summary` çš„å¯¹è±¡), `loop.index` (åºå·)
- `user_title_item.html`: `user` (åŒ…å« `nickname`, `user_id`, `titles` (åˆ—è¡¨), `description` çš„å¯¹è±¡)
- `quote_item.html`: `quote` (åŒ…å« `content`, `sender_nickname`, `reason` çš„å¯¹è±¡)

#### 4. å‚è€ƒç¤ºä¾‹
æ‚¨å¯ä»¥å‚è€ƒ `src/reports/templates/simple/` ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œè¿™æ˜¯ä¸€ä¸ªæœ€ç®€åŒ–çš„æ¨¡æ¿å®ç°ï¼ŒåŒ…å«äº†æ‰€æœ‰å¿…éœ€çš„åŸºæœ¬ç»“æ„ã€‚

#### 5. æ¨¡æ¿è°ƒè¯•å·¥å…·

PDF è°ƒè¯•æ¨¡æ¿å‘½ä»¤ Docker ä¸‹ï¼š

```
docker exec -it astrbot python data/plugins/astrbot_plugin_qq_group_daily_analysis/scripts/mock_pdf_gen.py
```

Image æ¨¡æ¿è°ƒè¯•ï¼š

æœ¬é¡¹ç›®æä¾›äº†ä¸€ä¸ªä¸“é—¨ç”¨äºæ¨¡æ¿å¼€å‘çš„è°ƒè¯•å·¥å…· `scripts/debug_render.py`ï¼Œå¯ä»¥åœ¨ä¸å¯åŠ¨å®Œæ•´ AstrBot ç¯å¢ƒçš„æƒ…å†µä¸‹å¿«é€Ÿé¢„è§ˆæ¨¡æ¿æ¸²æŸ“æ•ˆæœã€‚

**ä½¿ç”¨æ–¹æ³•ï¼š**

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd astrbot-qq-group-daily-analysis

# ä½¿ç”¨é»˜è®¤æ¨¡æ¿ (retro_futurism) æ¸²æŸ“
python scripts/debug_render.py

# æŒ‡å®šæ¨¡æ¿åç§°æ¸²æŸ“
python scripts/debug_render.py -t simple

# æŒ‡å®šè¾“å‡ºæ–‡ä»¶è·¯å¾„
python scripts/debug_render.py -t retro_futurism -o my_output.html

# æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯
python scripts/debug_render.py -h
```

**å·¥å…·ç‰¹æ€§ï¼š**

- ä½¿ç”¨ Mock æ•°æ®æ¨¡æ‹ŸçœŸå®çš„ç¾¤èŠåˆ†æç»“æœ
- æ— éœ€é…ç½® LLM æœåŠ¡æˆ–å¯åŠ¨ AstrBot
- è¾“å‡ºå¯ä½¿ç”¨live serveræ‰“å¼€ HTML æ–‡ä»¶ï¼Œå¹¶è¿›è¡Œä¿®æ”¹æŸ¥çœ‹
- æ”¯æŒæ‰€æœ‰å†…ç½®æ¨¡æ¿çš„å¿«é€Ÿåˆ‡æ¢é¢„è§ˆ

**å¼€å‘å·¥ä½œæµæ¨èï¼š**

1. ä¿®æ”¹æ¨¡æ¿æ–‡ä»¶
2. è¿è¡Œè°ƒè¯•å·¥å…·ç”Ÿæˆé¢„è§ˆ
3. åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ç”Ÿæˆçš„ HTML æ–‡ä»¶æŸ¥çœ‹æ•ˆæœ
4. é‡å¤ä¸Šè¿°æ­¥éª¤ç›´åˆ°æ»¡æ„

</details>

## è®¸å¯è¯

MIT License


æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªæ’ä»¶ï¼
